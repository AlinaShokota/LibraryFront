<app-navbar></app-navbar>

<section class="view intro-2">
    <div class="container">
        <div class="header text-center">
            <h4>Books</h4>
            <a class="btn btn-primary" href="/book-form" role="button">Add book</a>
        </div>
        <table mat-table [dataSource]="dataSource" class="table table-striped">
            <ng-container matColumnDef="title">
                <th class="header" mat-header-cell *matHeaderCellDef>
                    Title
                    <mat-form-field class="filter" floatLabel="never">
                        <mat-label style="color: grey; font-weight: 200;">Search</mat-label>
                        <input matInput [formControl]="titleFilter">
                    </mat-form-field>
                </th>
                <td mat-cell *matCellDef="let book">{{book.title}}</td>
            </ng-container>
            <ng-container matColumnDef="author">
                <th class="header" mat-header-cell *matHeaderCellDef>
                    Author
                    <mat-form-field class="filter" floatLabel="never">
                        <mat-label style="color: grey; font-weight: 200;">Search</mat-label>
                        <input matInput [formControl]="authorFilter">
                    </mat-form-field>
                </th>
                <td mat-cell *matCellDef="let book">{{book.author}}</td>
            </ng-container>
            <ng-container matColumnDef="genre">
                <th class="header" mat-header-cell *matHeaderCellDef>
                    Genre
                    <mat-form-field class="filter" floatLabel="never">
                        <mat-label style="color: grey; font-weight: 200;">Search</mat-label>
                        <input matInput [formControl]="genreFilter">
                    </mat-form-field>
                </th>
                <td mat-cell *matCellDef="let book">{{book.genre}}</td>
            </ng-container>
            <ng-container matColumnDef="year">
                <th class="header" mat-header-cell *matHeaderCellDef>
                    Year
                    <mat-form-field class="filter" floatLabel="never">
                        <mat-label style="color: grey; font-weight: 200;">Search</mat-label>
                        <input matInput [formControl]="yearFilter">
                    </mat-form-field>
                </th>
                <td mat-cell *matCellDef="let book">{{book.year}}</td>
            </ng-container>
            <ng-container matColumnDef="publisher">
                <th class="header" mat-header-cell *matHeaderCellDef>
                    Publisher
                    <mat-form-field class="filter" floatLabel="never">
                        <mat-label style="color: grey; font-weight: 200;">Search</mat-label>
                        <input matInput [formControl]="publisherFilter">
                    </mat-form-field>
                </th>
                <td mat-cell *matCellDef="let book">{{book.publisher}}</td>
            </ng-container>

            <ng-container matColumnDef="details">
                <th class="header" mat-header-cell *matHeaderCellDef>
                    Details
                </th>
                <td mat-cell *matCellDef="let book">
                    <button class="btn" (click)="get(book.id)"><i class="fa fa-bars indigo-text"></i></button>
                </td>
            </ng-container>

            <ng-container matColumnDef="delete">
                <th class="header" mat-header-cell *matHeaderCellDef>
                    Delete
                </th>
                <td mat-cell *matCellDef="let book">
                    <button class="btn" (click)="delete(book.id)">
                        <mdb-icon far icon="trash-alt" class="pink-text"></mdb-icon>
                    </button>
                </td>
            </ng-container>


            <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
            <tr mat-row *matRowDef="let person; columns: columnsToDisplay"></tr>
        </table>

    </div>

</section>